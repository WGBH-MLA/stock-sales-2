<% Asset.new(JSON.parse(@document.instance_variable_get('@_source')['json'])).tap do |asset| %>
  <div id="content" class="container">
    <div class="row">
      <div class="pull-left col-md-6">
        <h1><%= asset.clip_title %></h1>
      </div>
      <div class="pull-right col-md-3">
        <%= render partial: 'shared/search', locals: {placeholder: "New search"} %>
      </div>
    </div>
    <div class="row">
      <div class="col-md-9">
        <video controls="true"
          oncontextmenu="return false;" 
          width="100%"
          poster="<%= asset.thumb_src %>"
          src="<%= asset.proxy_src %>">
        </video>
        <dl>
          <dt>Description</dt>
          <dd><%= asset.clip_description %></dd>
          
          <dt>Keywords</dt>
          <dd><%= asset.clip_keywords %></dd>
          
          <dt>Category</dt>
          <dd><%= asset.category %></dd>
        </dl>
      </div>
      <div class="col-md-3 small-fields">
        <dl>
          <% 
          %w(aspect_ratio codec digital_wrapper dimensions event_date event_location format length program series type).each do |method| 
            asset.send(method).tap do |value| 
              if !value.empty? %>
                <dt><%= method.gsub('_',' ') %></dt>
                <dd><%= value %></dd><% 
              end
            end
          end %>
        </dl>
      </div>
    </div>
  </div>
<% end %>

<br/>

<div class="container">
  <div class="row no-gutter">
    <%= render partial: 'shared/call_to_action' %>
  </div>
</div>